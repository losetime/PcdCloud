(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/userInfo"],{"0ffe":function(e,a,t){"use strict";t.r(a);var n=t("1d47"),s=t("2cd3");for(var o in s)"default"!==o&&function(e){t.d(a,e,function(){return s[e]})}(o);t("11d5");var i=t("2877"),r=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,"16c7c27c",null);a["default"]=r.exports},"11d5":function(e,a,t){"use strict";var n=t("1ea8"),s=t.n(n);s.a},"1d47":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement;e._self._c;e._isMounted||(e.e0=function(a){e.showChangeNameDialog=!0})},s=[];t.d(a,"a",function(){return n}),t.d(a,"b",function(){return s})},"1ea8":function(e,a,t){},"2cd3":function(e,a,t){"use strict";t.r(a);var n=t("bb8e"),s=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);a["default"]=s.a},bb8e:function(e,a,t){"use strict";(function(e,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(){return t.e("components/uni-dialog/uni-dialog").then(t.bind(null,"cdc9"))},i={data:function(){return{showChangeNameDialog:!1,newUserName:"",userAvatar:"",userNickname:""}},onReady:function(){this.getUserInfo()},methods:{uploadAvatar:function(){var a=this;e.chooseImage({count:1,success:function(t){var o=this;console.log(n(t," at pages\\user\\userInfo.vue:51")),e.uploadFile({url:a.$api.getApiUrl(),filePath:t.tempFilePaths[0],name:"file",formData:{img:t.tempFilePaths[0]},header:{"content-type":"multipart/form-data"},success:function(t){console.log(n(t," at pages\\user\\userInfo.vue:64")),console.log(n(JSON.parse(t.data)," at pages\\user\\userInfo.vue:65")),s;var i=JSON.parse(t.data).message;a.userAvatar=i,console.log(n(a.userAvatar,i,t.data.message," at pages\\user\\userInfo.vue:68")),o.$api.changeUserInfo({avatar:i},function(a){"ok"==a.data.type&&e.showToast({title:a.data.message})})}})}})},onChangeNameDialog:function(a){var t=this;if("confirm"===a){if(""===this.newUserName)return void e.showToast({title:"请输入昵称"});if(this.newUserName.length<2||this.newUserName.length>8)return void e.showToast({title:"请输入2~8位昵称"});this.$api.changeUserInfo({nickname:this.newUserName},function(a){"ok"==a.data.type&&(e.showToast({title:a.data.message}),t.getUserInfo())}),this.showChangeNameDialog=!1,this.newUserName=""}else this.showChangeNameDialog=!1,this.newUserName=""},getUserInfo:function(){var e=this;this.$api.getUserInfo({},function(a){if("ok"==a.data.type){var t=a.data.message;e.userAvatar=t.baseInfo.avatar,e.userNickname=t.baseInfo.nickname}})}},components:{uniDialog:o}};a.default=i}).call(this,t("6e42")["default"],t("0de9")["default"])}},[["3db6","common/runtime","common/vendor"]]]);