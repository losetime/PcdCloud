(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/joinOrePool"],{3759:function(o,e,t){"use strict";t.r(e);var i=t("ac55"),n=t.n(i);for(var a in i)"default"!==a&&function(o){t.d(e,o,function(){return i[o]})}(a);e["default"]=n.a},ac55:function(o,e,t){"use strict";(function(o,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{showJoinDialog:!1,showExitDialog:!1,canExitOrePoolNumber:200,actualExitOrePoolNumber:"",minJoinOrePoolNumber:"0",actualJoinOrePoolNumber:"",userInfo:{},orePoolId:""}},onLoad:function(o){this.orePoolId=o.id,this.getOrePoolSum(),this.getOrePoolMinNumber()},onPullDownRefresh:function(){this.getOrePoolSum(),this.getOrePoolMinNumber(),setTimeout(function(){o.stopPullDownRefresh()},1e3)},methods:{joinOrePoolDialog:function(){this.getUserInfo()&&(this.showJoinDialog=!0)},cancelJoinDialog:function(){this.showJoinDialog=!1,this.actualJoinOrePoolNumber=""},exitOrePoolDialog:function(){this.showExitDialog=!0},cancelExitDialog:function(){this.showExitDialog=!1,this.actualExitOrePoolNumber=""},joinOrePoolConfirm:function(){var e=this;if(""==this.actualJoinOrePoolNumber||this.actualJoinOrePoolNumber<=0)return o.showToast({title:"请输入正确的加入数量",icon:"none"}),this.showJoinDialog=!0,!1;this.$api.joinOrePool({number:this.actualJoinOrePoolNumber,id:this.orePoolId},function(i){console.log(t(i.data.message," at pages\\mine\\joinOrePool.vue:143")),"ok"==i.data.type&&(o.showToast({title:"加入矿场成功",icon:"none"}),e.showJoinDialog=!1,e.actualJoinOrePoolNumber="",setTimeout(function(){o.startPullDownRefresh()},1500))})},exitOrePoolConfirm:function(){var e=this;if(""==this.actualExitOrePoolNumber||this.actualExitOrePoolNumber<=0)return o.showToast({title:"请输入正确的退出数量",icon:"none"}),this.showExitDialog=!0,!1;this.$api.exitOrePool({number:this.actualExitOrePoolNumber},function(t){"ok"==t.data.type&&(e.showToast({title:"退出成功"}),e.showExitDialog=!1,e.actualExitOrePoolNumber="",setTimeout(function(){o.startPullDownRefresh()},1500))})},getOrePoolMinNumber:function(){var o=this;this.$api.getOrePoolMinNumber({id:this.orePoolId},function(e){console.log(t(e.data,"147258"," at pages\\mine\\joinOrePool.vue:191")),o.minJoinOrePoolNumber=e.data.message.mini_join_num,o.canExitOrePoolNumber=e.data.message.back_num})},getOrePoolSum:function(){var e=this;o.showLoading(),this.$api.getOrePoolSum({id:this.orePoolId},function(i){o.hideLoading(),"ok"==i.data.type&&(console.log(t(i.data.message," at pages\\mine\\joinOrePool.vue:205")),e.userInfo=i.data.message)})},getUserInfo:function(){this.$api.getUserInfo({},function(e){if("ok"==e.data.type){var t=e.data.message;return""!=t.okaccount||(o.navigateTo({url:"/pages/user/okCode"}),!1)}})}}};e.default=i}).call(this,t("6e42")["default"],t("0de9")["default"])},c755:function(o,e,t){"use strict";t.r(e);var i=t("e90e"),n=t("3759");for(var a in n)"default"!==a&&function(o){t.d(e,o,function(){return n[o]})}(a);t("fd8a");var r=t("2877"),u=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},ced6:function(o,e,t){},e90e:function(o,e,t){"use strict";var i=function(){var o=this,e=o.$createElement,t=(o._self._c,o.round(o.userInfo.total,2)),i=o.round(o.userInfo.totalField,4),n=o.round(o.userInfo.comPower,4),a=o.round(o.userInfo.yesField,4),r=o.round(o.userInfo.peoNum),u=o.round(o.minJoinOrePoolNumber,2),l=o.round(o.canExitOrePoolNumber,2);o.$mp.data=Object.assign({},{$root:{m0:t,m1:i,m2:n,m3:a,m4:r,m5:u,m6:l}})},n=[];t.d(e,"a",function(){return i}),t.d(e,"b",function(){return n})},fd8a:function(o,e,t){"use strict";var i=t("ced6"),n=t.n(i);n.a}},[["77a4","common/runtime","common/vendor"]]]);